<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>JS脚本实现用户登录注册页面</title>
<meta charset="GB2313">
<script>
function r() {
   var userid=document.getElementById("username");
   var username =userid.value;
   var pwdid=document.getElementById("password");
   var password =pwdid.value;
   var storage = window.localStorage;
   var ys = 0; 
   for (var i=0, len = storage.length; i<len; i++){   
   var ys = 1;    
   var key = storage.key(i);     
   var value = storage.getItem(key); 
   if(username==value){
     var conf = localStorage.getItem("value");
     if(password==conf){
     alert("登录成功！");
     window.location.href="file:///D:/GitHub/JS-FINAL/App/index.html";
    }else{
        alert("密码错误！");
    }
   }
}
if(ys==0){
alert("账号或者密码错误！");
}
}
</script>


<script>
function z(){
if (typeof(Storage) !== "undefined") {
   var temp = 0; 
   var userid=document.getElementById("username");
   var username =userid.value;
   var storage = window.localStorage;
   for (var i=0, len = storage.length; i<len; i++){   
   var key = storage.key(i);     
   var value = storage.getItem(key); 
   if(username==value){
        alert("账号已存在！");
        temp =1;
   }
}
if(temp==0){
       var pwdid=document.getElementById("password");
       var password =pwdid.value;
       localStorage.setItem(username,password);
       alert("注册成功！");
}
} else {
    document.getElementById("username").innerHTML = "抱歉！您的浏览器不支持 Web Storage ...";
}
}

</script>




</head>
<body>
<form>

<table width="350" bgcolor="#ccffcc" border="5">
<tr align=center><td>用户名</td><td><input type="text" name="username" id="username"></td></tr>
<tr align=center><td>密 码</td><td><input type="password" name="password" id="password"></td></tr>
<tr align=center><td colspan="2"><input type="button" value="登 录" onclick="r();" />        <input type="button" value="注 册"onclick="z();" /></td></tr>

</table>
</form>
</body>
</html>